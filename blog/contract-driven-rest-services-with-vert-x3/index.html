<!DOCTYPE html><html lang=en><head><title>Contract Driven REST Services with Vert.x3</title><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta content="width=device-width,initial-scale=1" name=viewport><meta content="Eclipse Vert.x is a tool-kit for building reactive applications on the JVM." name=description><link href=https://vertx.tk/stylesheets/main.css media=screen rel=stylesheet><link href=https://vertx.tk/stylesheets/font-awesome.min.css media=screen rel=stylesheet><link href=https://vertx.tk/javascripts/styles/rainbow.min.css media=screen rel=stylesheet><!--[if lt IE 9]><script src="http://static.jboss.org/theme/js/libs/html5/pre3.6/html5.min.js"></script><![endif]--><link rel=apple-touch-icon sizes=57x57 href=https://vertx.tk/assets/favicons/vertx-favicon-7/apple-touch-icon-57x57.png><link rel=apple-touch-icon sizes=60x60 href=https://vertx.tk/assets/favicons/vertx-favicon-7/apple-touch-icon-60x60.png><link rel=apple-touch-icon sizes=72x72 href=https://vertx.tk/assets/favicons/vertx-favicon-7/apple-touch-icon-72x72.png><link rel=apple-touch-icon sizes=76x76 href=https://vertx.tk/assets/favicons/vertx-favicon-7/apple-touch-icon-76x76.png><link rel=apple-touch-icon sizes=114x114 href=https://vertx.tk/assets/favicons/vertx-favicon-7/apple-touch-icon-114x114.png><link rel=apple-touch-icon sizes=120x120 href=https://vertx.tk/assets/favicons/vertx-favicon-7/apple-touch-icon-120x120.png><link rel=apple-touch-icon sizes=144x144 href=https://vertx.tk/assets/favicons/vertx-favicon-7/apple-touch-icon-144x144.png><link rel=apple-touch-icon sizes=152x152 href=https://vertx.tk/assets/favicons/vertx-favicon-7/apple-touch-icon-152x152.png><link rel=apple-touch-icon sizes=180x180 href=https://vertx.tk/assets/favicons/vertx-favicon-7/apple-touch-icon-180x180.png><link rel=icon type=image/png href=https://vertx.tk/assets/favicons/vertx-favicon-7/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=https://vertx.tk/assets/favicons/vertx-favicon-7/android-chrome-192x192.png sizes=192x192><link rel=icon type=image/png href=https://vertx.tk/assets/favicons/vertx-favicon-7/favicon-96x96.png sizes=96x96><link rel=icon type=image/png href=https://vertx.tk/assets/favicons/vertx-favicon-7/favicon-16x16.png sizes=16x16><link rel=manifest href=https://vertx.tk/assets/favicons/vertx-favicon-7/manifest.json><link rel=mask-icon href=https://vertx.tk/assets/favicons/vertx-favicon-7/safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content=#7d3194><meta name=msapplication-TileImage content=https://vertx.tk/assets/favicons/vertx-favicon-7/mstile-144x144.png><meta name=theme-color content=#ffffff><link href="https://fonts.googleapis.com/css?family=Ubuntu:400,500,700,400italic" rel=stylesheet type=text/css><link rel=alternate type=application/rss+xml title=RSS href=https://vertx.tk/feed.xml><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-30144458-1', 'auto');
    ga('create', 'UA-71153120-1', 'auto', 'tracker');
    ga('send', 'pageview');
    ga('tracker.send', 'pageview');</script><style>.page-link-to-github {
      position: relative;
      z-index: 1;
      display: inline-block;
      border: 1px solid #782B90;
      border-radius: 5px;
      color: #782B90;
      font-size: 12px;
      padding: 4px 10px;
      text-decoration: none;
      background-color: #ffffff;
    }
    .page-link-to-github:hover {
      color: #ffffff;
      border-color: #ffffff;
      background-color: #782B90;
    }

    .page-link-to-github .github-icon {
      position: absolute;
      display: inline-block;
      width: 20px;
      height: 20px;
      /*background-position: -50px 0*/
      background: url('https://vertx.tk/assets/github.png') no-repeat 0 0;
    }

    @media (-webkit-min-device-pixel-ratio: 2),(min-resolution:192dpi) {
      .page-link-to-github .github-icon {
        background-image:url('https://vertx.tk/assets/github@2x.png');
        background-size: 150px auto
      }
    }

    .page-link-to-github:hover .github-icon {
      /*background-position: 0 0*/
      background-position: -100px 0
    }
    .text {
      text-decoration: underline
    }
    .page-link-to-github .text {
      padding-left: 27px
    }
    .text {
      padding-right: 8px
    }
    .page-link-to-github {
      float: right;
      top: 4px
    }</style></head><body><a href="http://www.reactivemanifesto.org/" id=reactive-manifesto-banner><img style="border: 0; position: fixed; right: 0; top:0; z-index: 9000" src=https://d379ifj7s9wntv.cloudfront.net/reactivemanifesto/images/ribbons/we-are-reactive-black-right.png></a> <a id=skippy class="sr-only sr-only-focusable" href=#content><div class=container><span class=skiplink-text>Skip to main content</span></div></a><header class="navbar navbar-default navbar-static-top" id=top role=banner><div class=container><div class=navbar-header><button class="navbar-toggle collapsed" type=button data-toggle=collapse data-target=#vertx-navbar-collapse><span class=sr-only>Toggle navigation</span> <span class=icon-bar></span> <span class=icon-bar></span> <span class=icon-bar></span></button> <a href="https://vertx.tk/" class=navbar-brand><img alt=Brand src=https://vertx.tk/assets/logo-sm.png></a></div><nav class="collapse navbar-collapse" id=vertx-navbar-collapse><ul class="nav navbar-nav navbar-right"><li><a href=http://start.vertx.io>Starter</a></li><li><a href=https://vertx.io>官网</a></li><li><a href="https://vertx.tk/download/">下载</a></li><li><a href="https://vertx.tk/docs/">文档</a></li><li><a href=https://github.com/vert-x3/wiki/wiki>维基</a></li><li><a href="https://vertx.tk/community/">社区</a></li><li><a href="https://vertx.tk/materials/">资料</a></li><li><a href="https://vertx.tk/blog/">博客</a></li></ul></nav></div></header><div class=container><div class="row blog"><article class="col-xs-12 blog-post"><h2 class=blog-post-title>Contract Driven REST Services with Vert.x3</h2><p class=blog-post-meta>17th September 2015 by <a href=http://github.com/pmlopes>pmlopes</a></p><article><p>We see a new trend in development where we are shifting from developing applications to develop APIs. More and more we see services being offered as REST APIs that we are allowed to consume and we already see this trend from the big names in the industry, e.g.: <a href="https://developers.facebook.com/">Facebook</a>, <a href=https://www.mediawiki.org/wiki/API:Main_page>Wikipedia</a>, <a href=https://developer.amazon.com/public/apis>Amazon</a>, <a href=https://dev.twitter.com/overview/documentation>Twitter</a>, <a href="https://developers.google.com/apis-explorer/#p/">Google</a> and <a href=https://www.reddit.com/dev/api>Reddit</a> they all offer APIs.</p><p>Of course making an REST API using Vert.x is quite simple, just use <a href=http://vertx.io/docs/#web>Vert.x Web</a> and you can start writing your API in seconds, however an API without documentation is not an API since no developer will know how to use it. However this is one of the most sensitive issues to tackle in software development, nobody likes to write documentation. However, in the REST age where REST-based web-services are ubiquitous, documentation for public web-services is a necessity. There are a lot of tools out there, two of the most popular are without a doubt:</p><ul><li><a href=http://swagger.io>Swagger</a></li><li><a href=http://raml.org>RAML</a></li></ul><p>Both frameworks have a large ecosystem of tools and tooling around but they tackle the documentation from two different perspectives. While Swagger is purely a documentation tool it tackles the problem from bottom up and RAML does document top down. They both rely on a document (<code>JSON</code> for Swagger, <code>YAML</code> for RAML).</p><p>I’ll now go over building a simple Hello World API, document it and test it. For this example I’ll choose RAML since it feels more natural to the way we code with Vert.x Web.</p><h2 id=define-the-hello-world-api>Define the Hello World API</h2><p>We need a contract and as with any other development we need some specification, You can learn about RAML in its <a href=http://raml.org>website</a> and quickly see how easy it is to get started. So we start with the following specification:</p><pre><code>#%RAML <span class=hljs-number>0.8</span>
<span class=hljs-string>title:</span> Hello world REST API
<span class=hljs-string>baseUri:</span> <span class=hljs-string>http:</span><span class=hljs-comment>//localhost:8080/</span>
<span class=hljs-string>version:</span> v1
/<span class=hljs-string>hello:</span>
<span class=hljs-label>  get:</span>
<span class=hljs-label>    responses:</span>
<span class=hljs-label>      200:</span>
<span class=hljs-label>        body:</span>
          application/<span class=hljs-string>json:</span>
<span class=hljs-label>            schema:</span> |
              { <span class=hljs-string>"$schema"</span>: <span class=hljs-string>"http://json-schema.org/schema"</span>,
                <span class=hljs-string>"type"</span>: <span class=hljs-string>"object"</span>,
                <span class=hljs-string>"description"</span>: <span class=hljs-string>"Hello World Greeting"</span>,
                <span class=hljs-string>"properties"</span>: {
                  <span class=hljs-string>"greeting"</span>:  { <span class=hljs-string>"type"</span>: <span class=hljs-string>"string"</span> }
                },
                <span class=hljs-string>"required"</span>: [ <span class=hljs-string>"greeting"</span> ]
              }</code></pre><p>So if you didn’t understood why I named RAML as a top down documentation tool, I think it becomes clear now. So there are some basic definition on the top of the file like, <code>title</code>, <code>baseUri</code> and <code>version</code> which should be self explanatory.</p><p>And then we start with the API documentation, so we specify that at the <code>URL</code> <code>/hello</code> using the HTTP verb <code>GET</code> you are expected to get a response with status code <code>200</code> and the body of the response should have content type <code>application/json</code>. This is a very minimal document, one could go over and specify the <a href="http://json-schema.org/"><code>json schema</code></a> for the response, input values, etc…, however lets just keep it simple for this example.</p><p><div class="admonition-block note"><table><tbody><tr><td class=admonition-icon><i class="admonition-icon fa fa-comment"></i></td><td class=content><span class=title>IDE ?</span><br><span class=content>if you do not like to write yaml in your editor you can always use the <a href=http://raml.org/projects.html>API Designer</a> which gives you instant feedback on your API document and provides a testing platform</span></td></tr></tbody></table></div>.</p><h2 id=implement-the-api>Implement the API</h2><p>So you got your contract, time to implement it, this is a very simple API so I’ll jump to the code immediately:</p><pre><code class="hljs java"><span class=hljs-keyword>public</span> <span class=hljs-class><span class=hljs-keyword>class</span> <span class=hljs-title>App</span> <span class=hljs-keyword>extends</span> <span class=hljs-title>AbstractVerticle</span> </span>{
  <span class=hljs-annotation>@Override</span>
  <span class=hljs-function><span class=hljs-keyword>public</span> <span class=hljs-keyword>void</span> <span class=hljs-title>start</span><span class=hljs-params>()</span> </span>{
    Router router = Router.router(vertx);

    router.get(<span class=hljs-string>"/hello"</span>).handler(rc -&gt; {
      rc.response()
          .putHeader(<span class=hljs-string>"content-type"</span>, <span class=hljs-string>"application/json"</span>)
          .end(<span class=hljs-keyword>new</span> JsonObject().put(<span class=hljs-string>"greeting"</span>, <span class=hljs-string>"Hello World!"</span>).encode());
    });

    vertx.createHttpServer().requestHandler(router::accept).listen(<span class=hljs-number>8080</span>);
  }
}</code></pre><p>As you can see the code resembles the contract document, when there is a <code>GET</code> request to <code>/hello</code> we send to the client a empty <code>JSON</code> document <code>{}</code>.</p><h2 id=are-we-done->Are we done?</h2><p>The answer is <strong>NO!!!</strong> how can we be sure that our implementation does comply to the contract? We need to test. As I wrote before there is no specific support for Vert.x from RAML or other tools however in this case it is not a problem we can still test our code without having the need to implement a test framework from the ground up.</p><h2 id=testing-our-contract>Testing our contract</h2><p>The initial step is to setup a test, this should be trivial we are using Java (although we could test any of Vert.x supported languages using the same technique). We create a <a href="http://junit.org/">JUnit</a> unit test.</p><p><div class="admonition-block note"><table><tbody><tr><td class=admonition-icon><i class="admonition-icon fa fa-comment"></i></td><td class=content><span class=content>JUnit ? ! For this example I will be using JUnit instead of Vert.x Test mostly to let you know that Vert.x isn’t an opinionated framework, so you are free to choose the tool that best fits you.</span></td></tr></tbody></table></div></p><pre><code class="hljs java"><span class=hljs-keyword>public</span> <span class=hljs-class><span class=hljs-keyword>class</span> <span class=hljs-title>APITest</span> </span>{

  <span class=hljs-annotation>@BeforeClass</span>
  <span class=hljs-function><span class=hljs-keyword>public</span> <span class=hljs-keyword>static</span> <span class=hljs-keyword>void</span> <span class=hljs-title>bootApp</span><span class=hljs-params>()</span> </span>{
    Runner.run(App.class);
  }

  <span class=hljs-annotation>@Test</span>
  <span class=hljs-function><span class=hljs-keyword>public</span> <span class=hljs-keyword>void</span> <span class=hljs-title>testHelloEndpoint</span><span class=hljs-params>()</span> </span>{
  }
}</code></pre><p>So at this moment you have a simple test, I’ll share the code of the runner class (basically it just instantiates a <code>Vertx</code> instance and load the <code>verticle</code> we just implemented above) and has a empty test <code>testHelloEndpoint</code>.</p><h3 id=load-the-api-definition-into-the-test>Load the API definition into the test</h3><pre><code class="hljs java"><span class=hljs-keyword>public</span> <span class=hljs-class><span class=hljs-keyword>class</span> <span class=hljs-title>APITest</span> </span>{

  <span class=hljs-keyword>private</span> <span class=hljs-keyword>static</span> <span class=hljs-keyword>final</span> RamlDefinition api = RamlLoaders.fromClasspath()
        .load(<span class=hljs-string>"/api/hello.raml"</span>)
        .assumingBaseUri(<span class=hljs-string>"http://localhost:8080/"</span>);

  <span class=hljs-keyword>private</span> CheckingWebTarget checking;

  ...
}</code></pre><p>So the first step is to load the <code>API</code> definition into our test and have a reference to a <code>CheckingWebTarget</code> object. The checking object is where you can perform assertions, but to do this we need some client make REST calls in order to test.</p><h3 id=create-a-rest-client>Create a REST client</h3><p>There are many options for this, you could use <code>JAX-RS</code>, <code>RestAssured</code>, <code>RestEasy</code>, etc… so I’ll pick <code>RestEasy</code> for now:</p><pre><code class="hljs java"><span class=hljs-keyword>public</span> <span class=hljs-class><span class=hljs-keyword>class</span> <span class=hljs-title>APITest</span> </span>{

  <span class=hljs-keyword>private</span> <span class=hljs-keyword>static</span> <span class=hljs-keyword>final</span> RamlDefinition api = RamlLoaders.fromClasspath()
      .load(<span class=hljs-string>"/api/hello.raml"</span>)
      .assumingBaseUri(<span class=hljs-string>"http://localhost:8080/"</span>);

  <span class=hljs-keyword>private</span> ResteasyClient client = <span class=hljs-keyword>new</span> ResteasyClientBuilder().build();
  <span class=hljs-keyword>private</span> CheckingWebTarget checking;

  <span class=hljs-annotation>@BeforeClass</span>
  <span class=hljs-function><span class=hljs-keyword>public</span> <span class=hljs-keyword>static</span> <span class=hljs-keyword>void</span> <span class=hljs-title>bootApp</span><span class=hljs-params>()</span> </span>{
    Runner.run(App.class);
  }

  <span class=hljs-annotation>@Before</span>
  <span class=hljs-function><span class=hljs-keyword>public</span> <span class=hljs-keyword>void</span> <span class=hljs-title>createTarget</span><span class=hljs-params>()</span> </span>{
    checking = api.createWebTarget(client.target(<span class=hljs-string>"http://localhost:8080"</span>));
  }

  ...
}</code></pre><h3 id=implement-the-test>Implement the test</h3><p>All of the boilerplate code is in place and if you look at the previous section you will see that it wasn’t that bad, just a few lines and you loaded the RAML contract, created a REST client and started up your application and all this under ~10 lines of code.</p><p>So lets finish and implement the verification of the contract:</p><pre><code class="hljs java"><span class=hljs-keyword>public</span> <span class=hljs-class><span class=hljs-keyword>class</span> <span class=hljs-title>APITest</span> </span>{
  ...

  <span class=hljs-annotation>@Test</span>
  <span class=hljs-function><span class=hljs-keyword>public</span> <span class=hljs-keyword>void</span> <span class=hljs-title>testHelloEndpoint</span><span class=hljs-params>()</span> </span>{
    checking.path(<span class=hljs-string>"/hello"</span>).request().get();
    Assert.assertThat(checking.getLastReport(), RamlMatchers.hasNoViolations());
  }
}</code></pre><p>Once you run your tests, you will see:</p><pre><code class=hljs>13:09:28.200 [main] DEBUG o.a.h.i.conn.DefaultClientConnection - Sending request: GET /hello HTTP/1.1
13:09:28.201 [<span class=hljs-link_label>main</span>] DEBUG org.apache.http.wire -  &gt;&gt; "GET /hello HTTP/1.1[<span class=hljs-link_label>\r</span>][<span class=hljs-link_reference>\n</span>]"
13:09:28.202 [<span class=hljs-link_label>main</span>] DEBUG org.apache.http.wire -  &gt;&gt; "Accept-Encoding: gzip, deflate[<span class=hljs-link_label>\r</span>][<span class=hljs-link_reference>\n</span>]"
13:09:28.202 [<span class=hljs-link_label>main</span>] DEBUG org.apache.http.wire -  &gt;&gt; "Host: localhost:8080[<span class=hljs-link_label>\r</span>][<span class=hljs-link_reference>\n</span>]"
13:09:28.202 [<span class=hljs-link_label>main</span>] DEBUG org.apache.http.wire -  &gt;&gt; "Connection: Keep-Alive[<span class=hljs-link_label>\r</span>][<span class=hljs-link_reference>\n</span>]"
13:09:28.202 [<span class=hljs-link_label>main</span>] DEBUG org.apache.http.wire -  &gt;&gt; "[<span class=hljs-link_label>\r</span>][<span class=hljs-link_reference>\n</span>]"
13:09:28.202 [main] DEBUG org.apache.http.headers - &gt;&gt; GET /hello HTTP/1.1
13:09:28.202 [main] DEBUG org.apache.http.headers - &gt;&gt; Accept-Encoding: gzip, deflate
13:09:28.203 [main] DEBUG org.apache.http.headers - &gt;&gt; Host: localhost:8080
13:09:28.203 [main] DEBUG org.apache.http.headers - &gt;&gt; Connection: Keep-Alive
13:09:28.412 [<span class=hljs-link_label>main</span>] DEBUG org.apache.http.wire -  <span class=xml><span class=hljs-tag>&lt;&lt; "<span class=hljs-attribute>HTTP</span>/<span class=hljs-attribute>1.1</span> <span class=hljs-attribute>200</span> <span class=hljs-attribute>OK</span>[\<span class=hljs-attribute>r</span>][\<span class=hljs-attribute>n</span>]"
<span class=hljs-attribute>13:09:28.413</span> [<span class=hljs-attribute>main</span>] <span class=hljs-attribute>DEBUG</span> <span class=hljs-attribute>org.apache.http.wire</span> <span class=hljs-attribute>-</span>  &lt;&lt; "<span class=hljs-attribute>content-type:</span> <span class=hljs-attribute>application</span>/<span class=hljs-attribute>json</span>[\<span class=hljs-attribute>r</span>][\<span class=hljs-attribute>n</span>]"
<span class=hljs-attribute>13:09:28.413</span> [<span class=hljs-attribute>main</span>] <span class=hljs-attribute>DEBUG</span> <span class=hljs-attribute>org.apache.http.wire</span> <span class=hljs-attribute>-</span>  &lt;&lt; "<span class=hljs-attribute>Content-Length:</span> <span class=hljs-attribute>2</span>[\<span class=hljs-attribute>r</span>][\<span class=hljs-attribute>n</span>]"
<span class=hljs-attribute>13:09:28.413</span> [<span class=hljs-attribute>main</span>] <span class=hljs-attribute>DEBUG</span> <span class=hljs-attribute>org.apache.http.wire</span> <span class=hljs-attribute>-</span>  &lt;&lt; "[\<span class=hljs-attribute>r</span>][\<span class=hljs-attribute>n</span>]"
<span class=hljs-attribute>13:09:28.414</span> [<span class=hljs-attribute>main</span>] <span class=hljs-attribute>DEBUG</span> <span class=hljs-attribute>o.a.h.i.conn.DefaultClientConnection</span> <span class=hljs-attribute>-</span> <span class=hljs-attribute>Receiving</span> <span class=hljs-attribute>response:</span> <span class=hljs-attribute>HTTP</span>/<span class=hljs-attribute>1.1</span> <span class=hljs-attribute>200</span> <span class=hljs-attribute>OK</span>
<span class=hljs-attribute>13:09:28.414</span> [<span class=hljs-attribute>main</span>] <span class=hljs-attribute>DEBUG</span> <span class=hljs-attribute>org.apache.http.headers</span> <span class=hljs-attribute>-</span> &lt;&lt; <span class=hljs-attribute>HTTP</span>/<span class=hljs-attribute>1.1</span> <span class=hljs-attribute>200</span> <span class=hljs-attribute>OK</span>
<span class=hljs-attribute>13:09:28.415</span> [<span class=hljs-attribute>main</span>] <span class=hljs-attribute>DEBUG</span> <span class=hljs-attribute>org.apache.http.headers</span> <span class=hljs-attribute>-</span> &lt;&lt; <span class=hljs-attribute>content-type:</span> <span class=hljs-attribute>application</span>/<span class=hljs-attribute>json</span>
<span class=hljs-attribute>13:09:28.415</span> [<span class=hljs-attribute>main</span>] <span class=hljs-attribute>DEBUG</span> <span class=hljs-attribute>org.apache.http.headers</span> <span class=hljs-attribute>-</span> &lt;&lt; <span class=hljs-attribute>Content-Length:</span> <span class=hljs-attribute>2</span>
<span class=hljs-attribute>13:09:28.429</span> [<span class=hljs-attribute>main</span>] <span class=hljs-attribute>DEBUG</span> <span class=hljs-attribute>org.apache.http.wire</span> <span class=hljs-attribute>-</span>  &lt;&lt; "{}"
<span class=hljs-attribute>Tests</span> <span class=hljs-attribute>run:</span> <span class=hljs-attribute>1</span>, <span class=hljs-attribute>Failures:</span> <span class=hljs-attribute>0</span>, <span class=hljs-attribute>Errors:</span> <span class=hljs-attribute>0</span>, <span class=hljs-attribute>Skipped:</span> <span class=hljs-attribute>0</span>, <span class=hljs-attribute>Time</span> <span class=hljs-attribute>elapsed:</span> <span class=hljs-attribute>1.076</span> <span class=hljs-attribute>sec</span>

<span class=hljs-attribute>Results</span> <span class=hljs-attribute>:</span>

<span class=hljs-attribute>Tests</span> <span class=hljs-attribute>run:</span> <span class=hljs-attribute>1</span>, <span class=hljs-attribute>Failures:</span> <span class=hljs-attribute>0</span>, <span class=hljs-attribute>Errors:</span> <span class=hljs-attribute>0</span>, <span class=hljs-attribute>Skipped:</span> <span class=hljs-attribute>0</span></span></span></code></pre><p>And we are done, we now have a API that follow the contract, you can now keep developing your API and implementation and have a test driven approach to be sure that the contract is not broken.</p><h2 id=next-steps>Next steps</h2><p>Until now you have learn how to integrate RAML into Vert.x and CI, however the users of your API will not be able to know much about the API yet since its documentation is not publicly available. So lets publish online the documentation of your API, of course if your API is private you do not need to follow these steps.</p><p>In order to do this all we need it to include in our application the <a href=https://github.com/mulesoft/api-console>RAML console</a>, the fastest way to do this is just download a <a href=https://github.com/mulesoft/api-console/releases>release</a> to <code>src/main/resouces/webroot</code> and in the original application [Vert.x Router] we add a Static Content Handler to serve the console files. Your application source code should look like this:</p><pre><code class="hljs java"><span class=hljs-keyword>public</span> <span class=hljs-class><span class=hljs-keyword>class</span> <span class=hljs-title>App</span> <span class=hljs-keyword>extends</span> <span class=hljs-title>AbstractVerticle</span> </span>{
  <span class=hljs-annotation>@Override</span>
  <span class=hljs-function><span class=hljs-keyword>public</span> <span class=hljs-keyword>void</span> <span class=hljs-title>start</span><span class=hljs-params>()</span> </span>{
    Router router = Router.router(vertx);

    router.get(<span class=hljs-string>"/hello"</span>).handler(rc -&gt; {
      rc.response()
          .putHeader(<span class=hljs-string>"content-type"</span>, <span class=hljs-string>"application/json"</span>)
          .end(<span class=hljs-keyword>new</span> JsonObject().put(<span class=hljs-string>"greeting"</span>, <span class=hljs-string>"Hello World!"</span>).encode());
    });

    <span class=hljs-comment>// optionally enable the web console so users can play with your API</span>
    <span class=hljs-comment>// online from their web browsers</span>
    router.route().handler(StaticHandler.create());

    vertx.createHttpServer().requestHandler(router::accept).listen(<span class=hljs-number>8080</span>);
  }
}</code></pre><p>Once you start you application open a browser pointing at the <a href="http://localhost:8080?raml=/api/hello.raml">console</a>. Once you do that you should be presented with something similar to this:</p><p><img src=/assets/blog/vertx3-contract-driven-rest-services/raml-console.png alt=apiconsole></p><h2 id=article-source-code>Article source code</h2><p>You can get the full source code for this article <a href=https://github.com/pmlopes/vert-x3-experiments/tree/experiments/raml>here</a>.</p></article></article></div><div class=row><div class=col-xs-12 id=disqus_thread></div></div><script>var disqus_config = function () {
  this.page.url = "https://vertx.tk/blog/contract-driven-rest-services-with-vert-x3/";
  this.page.identifier = "/blog/contract-driven-rest-services-with-vert-x3/";
  };
  (function() { // DON'T EDIT BELOW THIS LINE
  var d = document, s = d.createElement('script');
  s.src = 'https://vertx.disqus.com/embed.js';
  s.setAttribute('data-timestamp', +new Date());
  (d.head || d.body).appendChild(s);
  })();</script><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript></div><footer><div class=container><div class=row><div class="col-xs-4 col-sm-4 col-md-2 col-lg-2"><h2>Eclipse Vert.x</h2><ul class=list-unstyled><li><a href="https://vertx.tk/">主页</a></li><li><a href="https://vertx.tk/download/">下载</a></li><li><a href="https://vertx.tk/docs/">文档</a></li><li><a href=https://github.com/vert-x3/wiki/wiki>维基</a></li><li><a href="https://vertx.tk/blog/">博客</a></li></ul></div><div class="col-xs-4 col-sm-4 col-md-2 col-lg-2"><h2>Community</h2><ul class=list-unstyled><li><a href="https://vertx.tk/community/">帮助 &amp; 贡献者</a></li><li><a href="https://vertx.tk/materials/">学习资料</a></li><li><a href=https://groups.google.com/forum/?fromgroups#!forum/vertx>User Group</a></li><li><a href=https://groups.google.com/forum/?fromgroups#!forum/vertx-dev>Developer Group</a></li><li><a href="//shang.qq.com/wpa/qunwpa?idkey=587f58cacb9557e3291b46098e0fe09427b98a1c0f866da23c04c2762bc7e2ad">QQ群</a></li></ul></div><div class="col-xs-4 col-sm-4 col-md-2 col-lg-2"><h2>Eclipse</h2><ul class=list-unstyled><li><a href="http://www.eclipse.org/">Eclipse Foundation</a></li><li><a href=https://eclipse.org/legal/privacy.php>Privacy Policy</a></li><li><a href=https://eclipse.org/legal/termsofuse.php>Terms of Use</a></li><li><a href=https://eclipse.org/legal/copyright.php>Copyright Agent</a></li><li><a href=http://www.eclipse.org/legal>Legal Resources</a></li></ul></div><div class="col-xs-12 col-sm-12 col-md-6 col-lg-6 copyright"><p>Eclipse Vert.x is open source and dual-licensed under the <a href=http://www.eclipse.org/legal/epl-v20.html>Eclipse Public License 2.0</a> and <a href=https://www.apache.org/licenses/LICENSE-2.0.html>Apache License 2.0</a>.</p><p>This website is licensed under the <a href="http://creativecommons.org/licenses/by-sa/3.0/">CC BY-SA 3.0 License</a>.<br>Design by <a href=https://www.michel-kraemer.com>Michel Kr&auml;mer</a>.</p><div class=row><div class="col-sm-12 col-md-5 col-md-offset-1 col-lg-offset-2"><a href=http://eclipse.org><img class="logo eclipse-logo" src=https://vertx.tk/assets/eclipse_logo_grey_small.png width=204 height=48></a></div><div class="col-sm-12 col-md-5 col-md-offset-1 col-lg-offset-0"><a href=http://cloudbees.com><img class="logo cloudbees-logo" src=https://vertx.tk/assets/Button-Built-on-CB-1-grey.png width=180 height=48></a></div><div class="col-sm-12 col-md-5 col-md-offset-7 jprofiler"><a href=http://www.ej-technologies.com/products/jprofiler/overview.html style=text-decoration:none><img class="logo jprofiler-logo" src=https://vertx.tk/assets/jprofiler-logo.png width=48 height=48><span class=jprofiler-logo>&nbsp; JPROFILER</span></a></div></div></div></div></div></footer><script src=https://cdnjs.cloudflare.com/ajax/libs/jquery/1.9.1/jquery.min.js></script><script src=https://vertx.tk/javascripts/bootstrap.min.js></script><script src=https://vertx.tk/javascripts/highlight.pack.js></script><script>hljs.initHighlightingOnLoad();</script><link rel=stylesheet type=text/css href="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.0.3/cookieconsent.min.css"><script src=//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.0.3/cookieconsent.min.js></script><script>window.addEventListener("load", function(){
window.cookieconsent.initialise({
  "palette": {
    "popup": {
      "background": "#64386b",
      "text": "#ffcdfd"
    },
    "button": {
      "background": "transparent",
      "text": "#f8a8ff",
      "border": "#f8a8ff"
    }
  },
  "content": {
    "message": "This website uses anonymous cookies to ensure we provide you the best experience. ",
    "link": "Opt out!",
    "href": "https://tools.google.com/dlpage/gaoptout/"
  }
})});</script></body></html>